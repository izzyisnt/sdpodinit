#!/bin/bash
set -e

if [ -z "$1" ]; then
    echo "‚ùå Usage: $0 <target_name>"
    exit 1
fi

TARGET=$1
SRC_DIR="/root/$TARGET"
DEST_DIR="/root/SurfDock/data/eval_sample_dirs/test_samples/$TARGET"

echo "üì¶ Restoring SurfDock input files for: $TARGET"
echo "üîπ From: $SRC_DIR"
echo "üî∏ To:   $DEST_DIR"

mkdir -p "$DEST_DIR"

# Copy only top-level .sdf and .pdb from the source folder
for ext in sdf pdb mol2; do
    for f in "$SRC_DIR"/*."$ext"; do
        [ -e "$f" ] && cp "$f" "$DEST_DIR/" && echo "‚úÖ Copied: $(basename "$f")"
    done
done

echo "‚úÖ Inputs restored to: $DEST_DIR"
